{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "vacs config",
  "description": "Full application configuration for vacs - VATSIM ATC Communication System. Config can be split into multiple files or merged into a single file containing all sections",
  "type": "object",
  "properties": {
    "stations": {
      "type": "object",
      "title": "StationsConfig",
      "description": "Configuration for how stations are handled client-side",
      "properties": {
        "profiles": {
          "type": "object",
          "description": "Named profiles for different station filtering configurations. Users can switch between profiles in the UI.",
          "patternProperties": {
            "^[a-zA-Z0-9_-]+$": {
              "type": "object",
              "description": "A station profile configuration",
              "properties": {
                "include": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "minLength": 1
                  },
                  "default": [],
                  "description": "Optional list of callsign patterns to include. If empty, all stations are eligible (subject to exclude). If not empty, only stations matching at least one pattern are shown. Glob syntax supported (*_APP, LO*, etc.). Case-insensitive."
                },
                "exclude": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "minLength": 1
                  },
                  "default": [],
                  "description": "Optional list of callsign patterns to exclude. Stations matching any pattern here are never shown, even if they match an include rule. Glob syntax supported. Case-insensitive."
                },
                "priority": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "minLength": 1
                  },
                  "default": ["*_FMP", "*_CTR", "*_APP", "*_TWR", "*_GND"],
                  "description": "Optional ordered list of callsign patterns for priority assignment. The first matching pattern determines the station's priority bucket. Earlier entries = higher priority. Glob syntax supported. Case-insensitive."
                },
                "aliases": {
                  "type": "object",
                  "patternProperties": {
                    "^\\d{3}\\.\\d{3}$": {
                      "type": "string",
                      "minLength": 1
                    }
                  },
                  "default": {},
                  "description": "Optional mapping of frequencies to custom display names. If a station's frequency matches a key, the corresponding display name replaces the VATSIM callsign. Display names must follow underscore-separated format (e.g., 'Station_Name_TYPE'). Frequency matching is exact. Example: {'124.400': 'FIC_CTR', '134.675': 'VB_APP'}"
                },
                "frequencies": {
                  "type": "string",
                  "enum": ["ShowAll", "HideAliased", "HideAll"],
                  "default": "ShowAll",
                  "description": "Control how frequencies are displayed on the DA keys."
                },
                "grouping": {
                  "type": "string",
                  "enum": ["None", "Fir", "FirAndIcao", "Icao"],
                  "default": "None",
                  "description": "Control how DA keys are grouped."
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false,
          "minProperties": 1
        }
      },
      "required": ["profiles"],
      "additionalProperties": true
    },
    "client": {
      "type": "object",
      "title": "ClientConfig",
      "description": "Configuration for local client behavior",
      "properties": {
        "selected_stations_profile": {
          "type": "string",
          "default": "Default",
          "description": "Name of the currently selected stations profile."
        },
        "extra_stations_config": {
          "type": "string",
          "description": "Path to an additional stations configuration file to load."
        },
        "ignored": {
          "type": "array",
          "items": {
            "type": "string",
            "minLength": 1,
            "maxLength": 8,
            "pattern": "^[0-9]+$"
          },
          "default": [],
          "description": "List of peer IDs (CIDs) that should be ignored by the client."
        },
        "transmit_config": {
          "type": "object",
          "description": "Configuration for the transmission mode and associated keybinds.",
          "properties": {
            "mode": {
              "type": "string",
              "enum": ["VoiceActivation", "PushToTalk", "PushToMute", "RadioIntegration"],
              "default": "VoiceActivation",
              "description": "The transmit mode to use."
            },
            "push_to_talk": {
              "type": ["string", "null"],
              "description": "Key code for Push-to-Talk mode. Required if mode is PushToTalk."
            },
            "push_to_mute": {
              "type": ["string", "null"],
              "description": "Key code for Push-to-Mute mode. Required if mode is PushToMute."
            },
            "radio_push_to_talk": {
              "type": ["string", "null"],
              "description": "Key code for Radio Integration PTT. Required if mode is RadioIntegration."
            }
          }
        },
        "keybinds": {
          "type": "object",
          "description": "Configuration for keybinds.",
          "properties": {
            "accept_call": {
              "type": ["string", "null"],
              "description": "Key code to accept an incoming call."
            },
            "end_call": {
              "type": ["string", "null"],
              "description": "Key code to end an active call. Can be the same as accept_call for context-aware behavior."
            }
          }
        }
      },
      "additionalProperties": true
    }
  },
  "additionalProperties": true
}
